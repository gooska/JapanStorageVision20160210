# 国内外の最新導入事例に学ぶ、オールフラッシュの活用と導入効果

<pre>
日本ヒューレット・パッカード株式会社
ストレージ エバンジェリスト
高野 勝 氏

価格的な障壁が下がり国内外でのオールフラッシュの導入が加速しております。単に速いというだけではないオールフラッシュの与えるビジネス、ITへの効果と、その活用法を国内外の最新導入事例を交えてご紹介いたします。
</pre>

Hewlett Packard Enterprise
企業向けとコンシューマ向けに分社した。
Enterpriseは企業向け。

ストレージ業界で最後に起きた変化はいつ？

* Flashにするとラックのユニット数が減ると、皆が口をそろえて言う。。。
* ＨＤＤのIOPSは70～80くらい。
* FlashのIOPSは7000～8000くらい。
* ディスク分散が不要になり、1本への集約が可能になるからかな？
* 熱が出ない。
* 故障が少ない（部品点数が少ないため）
* リビルドの時間が短い。

レイテンシ　ミリセカンド　マイクロセカンド
IOPS密度　0.2IOPS/GB　100IOPS/GB　ボトルネックがドライブからコントローラへ。

* パフォーマンス
 * １本当たりのＩ／Ｏ性能はＨＤＤの約１００倍
 * レイテンシが非常に低い
 * ストレージ内のボトルネックはドライブからコントローラへ
* 書き込みと読み込み
 * 書き込み回数の上限がある。
 * ランダムリードが得意。（書き込みはそれほどでも）
 * 直接のデータ上書きはできない。
 * 別領域に書いてから、元データを消すという動きをする。

### 重複排除

* インライン(リアルタイム)に実施。
 * 書き込むときに重複排除している。
 * 書いてから重複排除してはダメ。
 * なぜなら書き込み上限があるから。１００万回？
* アダプティブ・スペアリング
 * 1本動いていないスペアディスク。HDD時代なよいが。。。
 * もったいない。Flash高いし・・・
 * 余っている領域をスペアとしてリザーブする。RAID5みたいな感じかな？

### ※※※

* 3PAR Gen5 Thin Express ASIC
* コントローラがボトルネックになる。
* バックグラウンド処理を専用チップにしてしまおう。
* CPUを極力使わないようにした。
* 1つのチップでFC～オブジェクトまで通信できる。

* ミッドレンジクラスのストレージが300万を切った！？
* マジか。。。
* 攻めて来たなHP！
